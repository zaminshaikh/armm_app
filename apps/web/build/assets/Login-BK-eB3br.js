import{r as a,x as b,j as s,y,q as v,F as E}from"./index-C6UZZE1B.js";import{d as N,c as d,a as m}from"./index.esm-CaOeY0Rr.js";import{A as k}from"./ErrorModal-DtsGE0Ou.js";import{C as u,a as o,b as h,c as p,d as x}from"./CRow-BOoGTJLM.js";import{C as I}from"./CCardGroup-CZA5v-we.js";import{C as L,a as S,c as A}from"./cil-user-DDmTnl4m.js";import{C as F}from"./CCardBody-BSd8btF7.js";import{c as M}from"./cil-lock-locked-DmxpJbVL.js";import"./CModalTitle-DyJ8safq.js";import"./CCloseButton-B3bq1kyM.js";import"./CConditionalPortal-BWtFwqv2.js";const J=()=>{const[t,g]=a.useState(""),[n,j]=a.useState(""),[i,c]=a.useState(!1),[C,e]=a.useState(""),f=b(),w=async r=>{r.preventDefault(),console.log("Logging in...");try{await y(v,t,n),console.log("Logged in"),f("/dashboard")}catch(l){if(l instanceof E)switch(l.code){case"auth/invalid-email":e("Invalid email address.");break;case"auth/user-disabled":e("Client account is disabled.");break;case"auth/user-not-found":e("Client not found.");break;case"auth/wrong-password":e("Incorrect password.");break;default:e("An unknown error occurred.")}else e("An error occurred. Please try again.");c(!0)}};return s.jsxs("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:[i&&s.jsx(k,{message:C,showErrorModal:i,setShowErrorModal:c}),s.jsx(N,{children:s.jsx(u,{className:"justify-content-center",children:s.jsx(o,{md:8,children:s.jsx(I,{children:s.jsx(L,{className:"p-5",children:s.jsx(F,{children:s.jsxs(S,{onSubmit:w,children:[s.jsx("h1",{children:"Login"}),s.jsx("p",{className:"text-body-secondary",children:"Sign In to your account"}),s.jsxs(h,{className:"mb-3",children:[s.jsx(p,{children:s.jsx(d,{icon:A})}),s.jsx(x,{placeholder:"Email",autoComplete:"username",value:t,onChange:r=>g(r.target.value)})]}),s.jsxs(h,{className:"mb-4",children:[s.jsx(p,{children:s.jsx(d,{icon:M})}),s.jsx(x,{type:"password",placeholder:"Password",autoComplete:"current-password",value:n,onChange:r=>j(r.target.value)})]}),s.jsxs(u,{children:[s.jsx(o,{xs:6,children:s.jsx(m,{type:"submit",color:"primary",className:"px-4",children:"Login"})}),s.jsx(o,{xs:6,className:"text-end",children:s.jsx(m,{color:"link",children:"Forgot password?"})})]})]})})})})})})})]})};export{J as default};
