import{r as o,_ as N,R as v,a as E,c as k,P as p,w as I,j as s,x as L,y as S,F as P}from"./index-XZRXeKYy.js";import{d as A,c as h,a as x}from"./index.esm-Btfu6nMy.js";import{A as F}from"./ErrorModal-DQjN0NP_.js";import{C as g,a as l}from"./CRow--Mb2BLLo.js";import{C as M,a as R,c as G}from"./cil-user-DjF0Cz_E.js";import{C as T}from"./CCardBody-BQDPBAAT.js";import{C,a as j,b as f}from"./CInputGroupText-DUWUW7j8.js";import{c as _}from"./cil-lock-locked-DmxpJbVL.js";import"./CModalTitle-D13ujpG6.js";import"./CConditionalPortal-er86fRMf.js";var d=o.forwardRef(function(e,c){var t=e.children,i=e.className,n=N(e,["children","className"]);return v.createElement("div",E({className:k("card-group",i)},n,{ref:c}),t)});d.propTypes={children:p.node,className:p.string};d.displayName="CCardGroup";const Q=()=>{const[e,c]=o.useState(""),[t,i]=o.useState(""),[n,m]=o.useState(!1),[w,a]=o.useState(""),y=I(),b=async r=>{r.preventDefault(),console.log("Logging in...");try{await L(S,e,t),console.log("Logged in"),y("/dashboard")}catch(u){if(u instanceof P)switch(u.code){case"auth/invalid-email":a("Invalid email address.");break;case"auth/user-disabled":a("Client account is disabled.");break;case"auth/user-not-found":a("Client not found.");break;case"auth/wrong-password":a("Incorrect password.");break;default:a("An unknown error occurred.")}else a("An error occurred. Please try again.");m(!0)}};return s.jsxs("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:[n&&s.jsx(F,{message:w,showErrorModal:n,setShowErrorModal:m}),s.jsx(A,{children:s.jsx(g,{className:"justify-content-center",children:s.jsx(l,{md:8,children:s.jsx(d,{children:s.jsx(M,{className:"p-5",children:s.jsx(T,{children:s.jsxs(R,{onSubmit:b,children:[s.jsx("h1",{children:"Login"}),s.jsx("p",{className:"text-body-secondary",children:"Sign In to your account"}),s.jsxs(C,{className:"mb-3",children:[s.jsx(j,{children:s.jsx(h,{icon:G})}),s.jsx(f,{placeholder:"Email",autoComplete:"username",value:e,onChange:r=>c(r.target.value)})]}),s.jsxs(C,{className:"mb-4",children:[s.jsx(j,{children:s.jsx(h,{icon:_})}),s.jsx(f,{type:"password",placeholder:"Password",autoComplete:"current-password",value:t,onChange:r=>i(r.target.value)})]}),s.jsxs(g,{children:[s.jsx(l,{xs:6,children:s.jsx(x,{type:"submit",color:"primary",className:"px-4",children:"Login"})}),s.jsx(l,{xs:6,className:"text-end",children:s.jsx(x,{color:"link",children:"Forgot password?"})})]})]})})})})})})})]})};export{Q as default};
