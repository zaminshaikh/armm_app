import{r as y,R as c,a as B,y as Ne,c as oe,P as o}from"./index-JP7vHK7p.js";import{b as le}from"./index.esm-2WuAEctV.js";import{Y as kn}from"./ProBadge-BSKes2oQ.js";var rn=y.forwardRef(function(e,n){var r=e.ariaNavNextMonthLabel,t=e.ariaNavNextYearLabel,l=e.ariaNavPrevMonthLabel,u=e.ariaNavPrevYearLabel,f=e.calendarDate,s=e.locale,D=e.navigation,v=e.navNextDoubleIcon,x=e.navNextIcon,p=e.navPrevDoubleIcon,C=e.navPrevIcon,F=e.navYearFirst,k=e.onMonthClick,I=e.onNavigationClick,U=e.onYearClick,b=e.view;return c.createElement("div",{className:"calendar-nav",ref:n},D&&c.createElement("div",{className:"calendar-nav-prev"},c.createElement(le,{color:"transparent",size:"sm","aria-label":u,onClick:function(){return I("prev",!0)}},p??c.createElement("span",{className:"calendar-nav-icon calendar-nav-icon-double-prev"})),b==="days"&&c.createElement(le,{color:"transparent",size:"sm","aria-label":l,onClick:function(){return I("prev")}},C??c.createElement("span",{className:"calendar-nav-icon calendar-nav-icon-prev"}))),c.createElement("div",B({className:"calendar-nav-date","aria-live":"polite"},F&&{style:{display:"flex",justifyContent:"center"}}),b==="days"&&c.createElement(le,{color:"transparent",size:"sm",onClick:function(){return D&&k()}},f&&f.toLocaleDateString(s,{month:"long"})),c.createElement(le,B({color:"transparent",size:"sm",onClick:function(){return D&&U()}},F&&{style:{order:"-1"}}),f&&f.toLocaleDateString(s,{year:"numeric"}))),D&&c.createElement("div",{className:"calendar-nav-next"},b==="days"&&c.createElement(le,{color:"transparent",size:"sm","aria-label":r,onClick:function(){return I("next")}},x??c.createElement("span",{className:"calendar-nav-icon calendar-nav-icon-next"})),c.createElement(le,{color:"transparent",size:"sm","aria-label":t,onClick:function(){return I("next",!0)}},v??c.createElement("span",{className:"calendar-nav-icon calendar-nav-icon-double-next"}))))});rn.displayName="CCalendarNavigation";var bn=function(e){var n=e.split(/[Ww]/),r=n[0],t=n[1],l=new Date(Number(r),0,4);return l.setDate(l.getDate()-(l.getDay()||7)+1+(Number(t)-1)*7),l},W=function(e,n){if(e instanceof Date)return e;if(n==="week")return bn(e);if(n==="month"||n==="year"){var r=new Date(Date.parse(e)),t=r.getTimezoneOffset()*6e4;return new Date(r.getTime()+t)}return new Date(Date.parse(e))},_e=function(e,n){var r=Math.ceil(e.length/n);return Array.from({length:n}).fill("").map(function(t,l){return e.slice(l*r,(l+1)*r)})},Nn=function(e,n,r){return n!==0&&r==="days"?new Date(e.getFullYear(),e.getMonth()+n,1):n!==0&&r==="months"?new Date(e.getFullYear()+n,e.getMonth(),1):n!==0&&r==="years"?new Date(e.getFullYear()+12*n,e.getMonth(),1):e},Ie=function(e,n){if(e===null)return null;if(n==="week")return"".concat(e.getFullYear(),"W").concat(an(e));if(n==="month"){var r="0".concat(e.getMonth()+1).slice(-2);return"".concat(e.getFullYear(),"-").concat(r)}return n==="year"?"".concat(e.getFullYear()):e},Mn=function(e,n){return n===void 0&&(n="short"),Array.from({length:12},function(r,t){return new Date(2e3,t,1).toLocaleString(e,{month:n})})},Se=function(e,n){return n===void 0&&(n='tr[tabindex="0"], td[tabindex="0"]'),Ne([],Element.prototype.querySelectorAll.call(e,n),!0)},pn=function(e,n){return n===void 0&&(n=6),Array.from({length:n*2},function(r,t){return e-n+t})},Cn=function(e,n,r){var t=[],l=new Date(e,n),u=l.getFullYear(),f=l.getMonth(),s=new Date(u,f,1).getDay(),D=6-(6-s)-r;r&&(D=D<0?7+D:D);for(var v=D*-1;v<0;v++)t.push({date:new Date(u,f,v+1),month:"previous"});return t},En=function(e,n){for(var r=[],t=new Date(e,n+1,0).getDate(),l=1;l<=t;l++)r.push({date:new Date(e,n,l),month:"current"});return r},Yn=function(e,n,r,t){for(var l=[],u=42-(r.length+t.length),f=1;f<=u;f++)l.push({date:new Date(e,n+1,f),month:"next"});return l},an=function(e){var n=new Date(e.getTime());n.setHours(0,0,0,0),n.setDate(n.getDate()+3-(n.getDay()+6)%7);var r=new Date(n.getFullYear(),0,4),t=1+Math.round((n.getTime()-r.getTime())/864e5/7);return t},Fn=function(e,n,r){var t=Cn(e,n,r),l=En(e,n),u=Yn(e,n,t,l),f=Ne(Ne(Ne([],t,!0),l,!0),u,!0),s=[];return f.forEach(function(D,v){(v%7===0||s.length===0)&&s.push({days:[]}),(v+1)%7===0&&(s[s.length-1].weekNumber=an(D.date)),s[s.length-1].days.push(D)}),s},$=function(e,n,r,t){if(n&&e<n||r&&e>r)return!0;if(t===void 0)return!1;if(typeof t=="function")return t(e);if(t instanceof Date&&V(e,t))return!0;if(Array.isArray(t)&&t)for(var l=0,u=t;l<u.length;l++){var f=u[l];if(typeof f=="function"&&f(e)||Array.isArray(f)&&Z(e,f[0],f[1])||f instanceof Date&&V(e,f))return!0}return!1},Z=function(e,n,r){var t=xe(e),l=n?xe(n):null,u=r?xe(r):null;return!!(l&&u&&l<=t&&t<=u)},en=function(e,n,r){return!!(n!==null&&V(n,e)||r!==null&&V(r,e))},nn=function(e,n,r){if(e&&n){for(var t=new Date(e),l=!1;t<n;)if(t.setDate(t.getDate()+1),$(t,null,null,r)){l=!0;break}return l}return!1},An=function(e,n,r,t){var l=e.getFullYear()*12+e.getMonth(),u=n?n.getFullYear()*12+n.getMonth():null,f=r?r.getFullYear()*12+r.getMonth():null;if(u&&l<u||f&&l>f)return!0;if(t===void 0)return!1;for(var s=n?Math.max(e.getTime(),n.getTime()):e,D=r?Math.min(e.getTime(),r.getTime()):new Date(new Date().getFullYear(),11,31),v=new Date(s);v<=D;v.setDate(v.getDate()+1))if(!$(v,n,r,t))return!1;return!1},Ln=function(e,n,r){var t=e.getFullYear(),l=e.getMonth();return n!==null&&t===n.getFullYear()&&l===n.getMonth()||r!==null&&t===r.getFullYear()&&l===r.getMonth()},Te=function(e,n,r){var t=e.getFullYear(),l=e.getMonth(),u=n?n.getFullYear()*12+n.getMonth():null,f=r?r.getFullYear()*12+r.getMonth():null,s=t*12+l;return!!(u&&f&&u<=s&&s<=f)},V=function(e,n){return e instanceof Date&&n instanceof Date?e.getDate()===n.getDate()&&e.getMonth()===n.getMonth()&&e.getFullYear()===n.getFullYear():e===null&&n===null},In=function(e){var n=new Date;return V(e,n)},Sn=function(e,n,r,t){var l=e.getFullYear(),u=n?n.getFullYear():null,f=r?r.getFullYear():null;if(u&&l<u||f&&l>f)return!0;if(t===void 0)return!1;for(var s=n?Math.max(e.getTime(),n.getTime()):e,D=r?Math.min(e.getTime(),r.getTime()):new Date(new Date().getFullYear(),11,31),v=new Date(s);v<=D;v.setDate(v.getDate()+1))if(!$(v,n,r,t))return!1;return!1},Tn=function(e,n,r){var t=e.getFullYear();return n!==null&&t===n.getFullYear()||r!==null&&t===r.getFullYear()},Pe=function(e,n,r){var t=e.getFullYear(),l=n?n.getFullYear():null,u=r?r.getFullYear():null;return!!(l&&u&&l<=t&&t<=u)},xe=function(e){var n=new Date(e);return n.setHours(0,0,0,0),n},be=function(e,n,r){var t=y.useState(e),l=t[0],u=t[1];return n&&y.useEffect(function(){r&&n(l)},[l]),[l,u]},tn=y.forwardRef(function(e,n){var r=e.calendarDate,t=e.dayFormat,l=e.disabledDates,u=e.endDate,f=e.firstDayOfWeek,s=e.hoverDate,D=e.locale,v=e.maxDate,x=e.minDate,p=e.onCalendarClick,C=e.onCalendarKeyDown,F=e.onCalendarMouseEnter,k=e.onCalendarMouseLeave,I=e.selectAdjacementDays,U=e.selectEndDate,b=e.selectionType,ue=e.showWeekNumber,Me=e.showAdjacementDays,h=e.startDate,q=e.view,G=e.weekdayFormat,me=e.weekNumbersLabel,ie=y.useState([]),J=ie[0],Q=ie[1];y.useEffect(function(){Q(_e(Mn(D),4))},[]);var ce=Fn(r.getFullYear(),r.getMonth(),f),pe=_e(pn(r.getFullYear()),4),Ce=ce[0].days;return c.createElement("table",{ref:n},q==="days"&&c.createElement("thead",null,c.createElement("tr",null,ue&&c.createElement("th",{className:"calendar-cell"},c.createElement("div",{className:"calendar-header-cell-inner"},me)),Ce.map(function(A,O){var g=A.date;return c.createElement("th",{className:"calendar-cell",abbr:g.toLocaleDateString(D,{weekday:"long"}),key:O},c.createElement("div",{className:"calendar-header-cell-inner"},typeof G=="function"?G(g):typeof G=="string"?g.toLocaleDateString(D,{weekday:G}):g.toLocaleDateString(D,{weekday:"long"}).slice(0,G)))}))),c.createElement("tbody",null,q==="days"&&ce.map(function(A,O){var g=W(A.weekNumber===0?"".concat(r.getFullYear(),"W53"):"".concat(r.getFullYear(),"W").concat(A.weekNumber),b),R=$(g,x,v,l),N=en(g,h,u),w=A.days.some(function(E){return E.month==="current"});return c.createElement("tr",B({className:oe("calendar-row",{disabled:R,range:b==="week"&&Z(g,h,u),"range-hover":b==="week"&&s&&U?Z(g,h,s):Z(g,s,u),selected:N}),key:O,tabIndex:b==="week"&&w&&!R?0:-1},N&&{"aria-selected":!0},b==="week"&&!R&&{onBlur:function(){return k()},onClick:function(){return p(g)},onFocus:function(){return F(g)},onKeyDown:function(E){return C(E,g)},onMouseEnter:function(){return F(g)},onMouseLeave:function(){return k()}}),ue&&c.createElement("th",{className:"calendar-cell-week-number"},A.weekNumber===0?53:A.weekNumber),A.days.map(function(E,T){var j,i=E.date,S=E.month,ge=$(i,x,v,l),se=en(i,h,u);return S==="current"||Me?c.createElement("td",B({className:oe("calendar-cell",B(B({},b==="day"&&{clickable:S!=="current"&&I,disabled:ge,"range-hover":S==="current"&&(s&&U?Z(i,h,s):Z(i,s,u)),range:S==="current"&&Z(i,h,u),selected:se}),(j={},j[S]=!0,j.today=S==="current"&&In(i),j))),key:T,tabIndex:b==="day"&&(S==="current"||I)&&!ge?0:-1,title:i.toLocaleDateString(D)},se&&{"aria-selected":!0},b==="day"&&(S==="current"||I)&&{onBlur:function(){return k()},onClick:function(){return p(i)},onFocus:function(){return F(i)},onKeyDown:function(he){return C(he,i)},onMouseEnter:function(){return F(i)},onMouseLeave:function(){return k()}},S!=="current"&&!I&&{onMouseEnter:function(){return k()}}),c.createElement("div",{className:"calendar-cell-inner"},typeof t=="function"?t(i):i.toLocaleDateString(D,{day:t}))):c.createElement("td",{key:T})}))}),q==="months"&&J.map(function(A,O){return c.createElement("tr",{key:O},A.map(function(g,R){var N=O*3+R,w=new Date(r.getFullYear(),N,1),E=An(w,x,v,l),T=Ln(w,h,u);return c.createElement("td",B({className:oe("calendar-cell",{disabled:E,selected:T,"range-hover":b==="month"&&(s&&U?Te(w,h,s):Te(w,s,u)),range:Te(w,h,u)}),key:R,tabIndex:E?-1:0},T&&{"aria-selected":!0},!E&&{onBlur:function(){return k()},onClick:function(){return p(w)},onFocus:function(){return F(w)},onKeyDown:function(j){return C(j,w)},onMouseEnter:function(){return F(w)},onMouseLeave:function(){return k()}}),c.createElement("div",{className:"calendar-cell-inner"},g))}))}),q==="years"&&pe.map(function(A,O){return c.createElement("tr",{key:O},A.map(function(g,R){var N=new Date(g,0,1),w=Sn(N,x,v,l),E=Tn(N,h,u);return c.createElement("td",B({className:oe("calendar-cell year",{disabled:w,selected:E,"range-hover":b==="year"&&(s&&U?Pe(N,h,s):Pe(N,s,u)),range:Pe(N,h,u)}),key:R,tabIndex:w?-1:0},E&&{"aria-selected":!0},!w&&{onBlur:function(){return k()},onClick:function(){return p(N)},onFocus:function(){return F(N)},onKeyDown:function(T){return C(T,N)},onMouseEnter:function(){return F(N)},onMouseLeave:function(){return k()}}),c.createElement("div",{className:"calendar-cell-inner"},new Date(g,0,1).toLocaleDateString(D,{year:"numeric"})))}))})))});tn.displayName="CCalendarPanel";var ln=y.forwardRef(function(e,n){var r,t=e.ariaNavNextMonthLabel,l=t===void 0?"Next month":t,u=e.ariaNavNextYearLabel,f=u===void 0?"Next year":u,s=e.ariaNavPrevMonthLabel,D=s===void 0?"Previous month":s,v=e.ariaNavPrevYearLabel,x=v===void 0?"Previous year":v,p=e.startDate,C=e.endDate,F=e.calendarDate,k=F===void 0?p||C||null:F,I=e.calendars,U=I===void 0?1:I,b=e.className,ue=e.dayFormat,Me=ue===void 0?"numeric":ue,h=e.disabledDates,q=e.firstDayOfWeek,G=q===void 0?1:q,me=e.locale,ie=me===void 0?"default":me,J=e.maxDate,Q=e.minDate,ce=e.navigation,pe=ce===void 0?!0:ce,Ce=e.navNextIcon,A=e.navNextDoubleIcon,O=e.navPrevIcon,g=e.navPrevDoubleIcon,R=e.navYearFirst,N=e.range,w=e.selectAdjacementDays,E=w===void 0?!1:w,T=e.selectEndDate,j=e.selectionType,i=j===void 0?"day":j,S=e.showAdjacementDays,ge=S===void 0?!0:S,se=e.showWeekNumber,he=se===void 0?!1:se,Oe=e.weekdayFormat,on=Oe===void 0?2:Oe,un=e.weekNumbersLabel,Ee=e.onCalendarDateChange,_=e.onDateHover,Re=e.onEndDateChange,We=e.onStartDateChange,we=e.onSelectEndChange,cn=e.onViewChanged,Ye=y.useRef(null),sn=kn(n,Ye),ke=y.useRef(!0),je=y.useState(null),ee=je[0],ne=je[1];y.useEffect(function(){var a={day:"days",week:"days",month:"months",year:"years"};De(a[i]||"days")},[i]),y.useEffect(function(){if(k===null){ne(new Date);return}if(k){var a=W(k,i);!V(ee,a)&&ne(a)}},[k]);var ze=be(p?W(p,i):null,function(){return We&&We(Ie(re,i))},!ke.current),re=ze[0],X=ze[1];y.useEffect(function(){var a=p?W(p,i):null;V(a,re)||X(a)},[p]);var Ke=be(C?W(C,i):null,function(){return Re&&Re(Ie(ae,i))},!ke.current),ae=Ke[0],te=Ke[1];y.useEffect(function(){var a=C?W(C,i):null;V(a,ae)||te(a)},[C]);var Ue=y.useState(null),fn=Ue[0],He=Ue[1],Be=y.useState(J?W(J,i):null),fe=Be[0],vn=Be[1];y.useEffect(function(){J&&vn(W(J,i))},[J]);var Ve=y.useState(Q?W(Q,i):null),ve=Ve[0],dn=Ve[1];y.useEffect(function(){Q&&dn(W(Q,i))},[Q]);var qe=be(T,we),de=qe[0],Fe=qe[1];y.useEffect(function(){Fe(T)},[T]),y.useEffect(function(){!ke.current&&typeof de=="boolean"&&(we==null||we(de))},[de]);var Ge=be("days",cn),m=Ge[0],De=Ge[1],Je=y.useState(),Qe=Je[0],Xe=Je[1];y.useEffect(function(){var a;if(typeof Qe=="number"){var d=Se(Ye.current);(a=d[Qe])===null||a===void 0||a.focus(),Xe(void 0)}},[m]),y.useEffect(function(){ke.current=!1},[]);var z=function(a,d,Y){if(d===void 0&&(d=0),ee!==null){var P=ee.getFullYear(),L=ee.getMonth(),M=new Date(P,L,1);a&&M.setFullYear(M.getFullYear()+a),d&&M.setMonth(M.getMonth()+d),ne(M),Ee==null||Ee(M)}},Ze=function(a,d){var Y=new Date(a);if(m==="days"&&ne(d?new Date(Y.setMonth(Y.getMonth()-d)):Y),m==="months"&&i!=="month"){ne(d?new Date(Y.setMonth(Y.getMonth()-d)):Y),De("days");return}if(m==="years"&&i!=="year"){ne(d?new Date(Y.setFullYear(Y.getFullYear()-d)):Y),De("months");return}if(!$(a,ve,fe,h)){if(N){if(de){if(Fe(!1),re&&re>a){X(null),te(null);return}if(nn(re,a,h)){X(null),te(null);return}te(a);return}if(ae&&ae<a){X(null),te(null);return}if(nn(a,ae,h)){X(null),te(null);return}Fe(!0),X(a);return}X(a)}},Dn=function(a,d,Y){if((a.code==="Space"||a.key==="Enter")&&(a.preventDefault(),(m==="months"&&i!=="month"||m==="years"&&i!=="year")&&Xe(0),Ze(d,Y)),a.key==="ArrowRight"||a.key==="ArrowLeft"||a.key==="ArrowUp"||a.key==="ArrowDown"){if(a.preventDefault(),fe&&d>=fe&&(a.key==="ArrowRight"||a.key==="ArrowDown")||ve&&d<=ve&&(a.key==="ArrowLeft"||a.key==="ArrowUp"))return;var P=a.target;i==="week"&&P.tabIndex===-1&&(P=P.closest('tr[tabindex="0"]'));var L=Se(Ye.current),M=L.indexOf(P),hn=M===0,wn=M===L.length-1,$e={start:M,end:L.length-(M+1)},H={ArrowRight:1,ArrowLeft:-1,ArrowUp:i==="week"&&m==="days"?-1:m==="days"?-7:-3,ArrowDown:i==="week"&&m==="days"?1:m==="days"?7:3};if(a.key==="ArrowRight"&&wn||a.key==="ArrowDown"&&$e.end<H.ArrowDown||a.key==="ArrowLeft"&&hn||a.key==="ArrowUp"&&$e.start<Math.abs(H.ArrowUp)){m==="days"&&z(0,a.key==="ArrowRight"||a.key==="ArrowDown"?1:-1),m==="months"&&z(a.key==="ArrowRight"||a.key==="ArrowDown"?1:-1),m==="years"&&z(a.key==="ArrowRight"||a.key==="ArrowDown"?10:-10),setTimeout(function(){var Ae,Le,K=Se((Ae=P.parentNode)===null||Ae===void 0?void 0:Ae.parentNode);K.length>0&&a.key==="ArrowRight"&&K[0].focus(),K.length>0&&a.key==="ArrowLeft"&&((Le=K.at(-1))===null||Le===void 0||Le.focus()),K.length>0&&a.key==="ArrowDown"&&K[H.ArrowDown-(L.length-M)].focus(),K.length>0&&a.key==="ArrowUp"&&K[K.length-(Math.abs(H.ArrowUp)+1-(M+1))].focus()},1);return}if(L[M+H[a.key]].tabIndex===0){L[M+H[a.key]].focus();return}for(var ye=M;ye<L.length;a.key==="ArrowRight"||a.key==="ArrowDown"?ye++:ye--)if(L[ye+H[a.key]].tabIndex===0){L[ye+H[a.key]].focus();break}}},yn=function(a){$(a,ve,fe,h)||(He(a),a&&(_==null||_(Ie(a,i))))},mn=function(){He(null),_==null||_(null)},gn=function(a,d){if(d===void 0&&(d=!1),a==="prev"){if(d){z(m==="years"?-10:-1);return}if(m!=="days"){z(-1);return}z(0,-1);return}if(a==="next"){if(d){z(m==="years"?10:1);return}if(m!=="days"){z(1);return}z(0,1);return}};return c.createElement("div",{className:oe("calendars",(r={},r["select-".concat(i)]=i&&m==="days",r["show-week-numbers"]=he,r),b),ref:sn},ee&&Array.from({length:U},function(a,d){var Y=Nn(ee,d,m);return c.createElement("div",{className:oe("calendar",m),key:d},c.createElement(rn,{ariaNavNextMonthLabel:l,ariaNavNextYearLabel:f,ariaNavPrevMonthLabel:D,ariaNavPrevYearLabel:x,calendarDate:Y,locale:ie,navigation:pe,navNextDoubleIcon:A,navNextIcon:Ce,navPrevDoubleIcon:g,navPrevIcon:O,navYearFirst:R,onMonthClick:function(){return De("months")},onNavigationClick:gn,onYearClick:function(){return De("years")},view:m}),c.createElement(tn,{calendarDate:Y,dayFormat:Me,disabledDates:h,endDate:ae,firstDayOfWeek:G,hoverDate:fn,locale:ie,maxDate:fe,minDate:ve,onCalendarClick:function(P){return Ze(P,d)},onCalendarKeyDown:function(P,L){return Dn(P,L,d)},onCalendarMouseEnter:yn,onCalendarMouseLeave:mn,order:d,selectAdjacementDays:E,selectEndDate:de,selectionType:i,showAdjacementDays:ge,showWeekNumber:he,startDate:re,view:m,weekdayFormat:on,weekNumbersLabel:un}))}))});ln.propTypes={ariaNavNextMonthLabel:o.string,ariaNavNextYearLabel:o.string,ariaNavPrevMonthLabel:o.string,ariaNavPrevYearLabel:o.string,className:o.string,calendarDate:o.oneOfType([o.instanceOf(Date),o.string]),calendars:o.number,dayFormat:o.oneOfType([o.func,o.oneOf(["2-digit","numeric"])]),disabledDates:o.oneOfType([o.instanceOf(Date),o.array,o.func]),endDate:o.oneOfType([o.instanceOf(Date),o.string]),firstDayOfWeek:o.number,locale:o.string,maxDate:o.oneOfType([o.instanceOf(Date),o.string]),minDate:o.oneOfType([o.instanceOf(Date),o.string]),navigation:o.bool,navNextIcon:o.node,navNextDoubleIcon:o.node,navPrevIcon:o.node,navPrevDoubleIcon:o.node,navYearFirst:o.bool,range:o.bool,selectAdjacementDays:o.bool,selectEndDate:o.bool,selectionType:o.oneOf(["day","week","month","year"]),showAdjacementDays:o.bool,showWeekNumber:o.bool,startDate:o.oneOfType([o.instanceOf(Date),o.string]),weekdayFormat:o.oneOfType([o.func,o.number,o.oneOf(["long","narrow","short"])]),weekNumbersLabel:o.string,onDateHover:o.func,onCalendarDateChange:o.func,onEndDateChange:o.func,onSelectEndChange:o.func,onStartDateChange:o.func,onViewChanged:o.func};ln.displayName="CCalendar";export{ln as C,W as c};
