import{r as c,j as e,C as N}from"./index-C6UZZE1B.js";import{d as w,c as x,a as S}from"./index.esm-CaOeY0Rr.js";import{C as j,a as f,b,c as g,d as C}from"./CRow-BOoGTJLM.js";import{C as q}from"./CCardGroup-CZA5v-we.js";import{C as D,a as I,c as M}from"./cil-user-DDmTnl4m.js";import{C as R}from"./CCardBody-BSd8btF7.js";import{C as k}from"./CAlert-D5MWXatH.js";import"./CCloseButton-B3bq1kyM.js";var E=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M16,112V496H496V112ZM236.8,341.6a32.167,32.167,0,0,0,38.4,0L298.667,324,464,448v16H48V448L213.333,324ZM256,316,48,160V144H464v16ZM48,200,186.667,304,48,408ZM464,408,325.333,304,464,200Z' class='ci-primary'/>"];const F=s=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.trim()),O=()=>{const[s,m]=c.useState({cid:"",email:"",reason:""}),[r,h]=c.useState(!1),[n,l]=c.useState({type:null,message:""}),[i,p]=c.useState({}),d=a=>{const{name:t,value:o}=a.target;m(u=>({...u,[t]:o})),i[t]&&p(u=>({...u,[t]:""})),n.type&&l({type:null,message:""})},y=()=>{const a={};return s.cid.trim()||(a.cid="Client ID (CID) is required"),s.email.trim()?F(s.email)||(a.email="Please enter a valid email address"):a.email="Email address is required",p(a),Object.keys(a).length===0},v=async a=>{if(a.preventDefault(),!!y()){h(!0),l({type:null,message:""});try{const t=await fetch("https://us-central1-armm-app.cloudfunctions.net/sendDataDeletionRequest",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({cid:s.cid.trim(),email:s.email.trim(),reason:s.reason.trim()||"No specific reason provided"})}),o=await t.json();t.ok&&o.success?(l({type:"success",message:"Your data deletion request has been submitted successfully. We will review your request and contact you within 5-7 business days."}),m({cid:"",email:"",reason:""})):l({type:"error",message:o.error||"Failed to submit request"})}catch(t){console.error("Error submitting deletion request:",t),l({type:"error",message:"Unable to submit your request at this time. Please try again later or contact us directly at info@armmgroup.com"})}finally{h(!1)}}};return e.jsx("div",{className:"bg-light min-vh-100 d-flex flex-row align-items-center",children:e.jsx(w,{children:e.jsx(j,{className:"justify-content-center",children:e.jsx(f,{md:8,lg:6,children:e.jsx(q,{children:e.jsx(D,{className:"p-4",children:e.jsxs(R,{children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("div",{className:"mb-3",children:e.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-danger",children:e.jsx("path",{d:"M3 6h18M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2m3 0v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6h14ZM10 11v6M14 11v6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),e.jsx("h1",{className:"text-light mb-2",children:"Data Deletion Request"}),e.jsx("p",{className:"text-medium-emphasis",children:"Request the deletion of your account and associated data from ARMM Group systems"})]}),n.type&&e.jsx(k,{color:n.type==="success"?"success":"danger",className:"mb-4",children:n.message}),e.jsxs(I,{onSubmit:v,children:[e.jsxs(b,{className:"mb-3",children:[e.jsx(g,{children:e.jsx(x,{icon:M})}),e.jsx(C,{name:"cid",placeholder:"Client ID (CID)",autoComplete:"username",value:s.cid,onChange:d,invalid:!!i.cid,disabled:r})]}),i.cid&&e.jsx("div",{className:"invalid-feedback d-block mb-3",children:i.cid}),e.jsxs(b,{className:"mb-3",children:[e.jsx(g,{children:e.jsx(x,{icon:E})}),e.jsx(C,{name:"email",type:"email",placeholder:"Email address associated with your account",autoComplete:"email",value:s.email,onChange:d,invalid:!!i.email,disabled:r})]}),i.email&&e.jsx("div",{className:"invalid-feedback d-block mb-3",children:i.email}),e.jsx("div",{className:"mb-3",children:e.jsx("small",{className:"text-medium-emphasis",children:"Please enter the email address associated with your Client ID in our system."})}),e.jsx("div",{className:"mb-4",children:e.jsx("textarea",{name:"reason",className:"form-control",rows:3,placeholder:"Reason for deletion request (optional)",value:s.reason,onChange:d,disabled:r})}),e.jsx("div",{className:"mb-4",children:e.jsxs("small",{className:"text-medium-emphasis",children:[e.jsx("strong",{children:"Important:"})," This request will permanently delete your account and all associated data. This action cannot be undone. We will contact you at the provided email address to verify your identity before processing this request."]})}),e.jsx(j,{children:e.jsx(f,{xs:12,children:e.jsx(S,{color:"danger",className:"px-4 w-100",type:"submit",disabled:r,children:r?e.jsxs(e.Fragment,{children:[e.jsx(N,{size:"sm",className:"me-2"}),"Submitting Request..."]}):"Submit Deletion Request"})})})]}),e.jsx("div",{className:"mt-4 pt-3 border-top",children:e.jsx("div",{className:"text-center",children:e.jsxs("small",{className:"text-medium-emphasis",children:["Need assistance? Contact us at"," ",e.jsx("a",{href:"mailto:info@armmgroup.com",className:"text-light",children:"info@armmgroup.com"})," ","or call"," ",e.jsx("a",{href:"tel:+1-347-513-3040",className:"text-light",children:"347-513-3040"})]})})})]})})})})})})})};export{O as default};
